/* ==========================================================
   FIX FOR WIDE SCREENS WITH LOW HEIGHT
   e.g. 1366x768, 1280x720 laptops, landscape tablets
   ========================================================== */

/* Screens with height < 800px */
@media (max-height: 800px) {

  /* Reduce font sizes globally */
  body, html {
    font-size: 14px !important;
  }

  .value-box .value,
  .debt-value,
  .exp-value,
  .indicator-value {
    font-size: 1.1rem !important;
  }

  .value-box .title,
  .card-header,
  h1, h2, h3, h4 {
    font-size: 0.95rem !important;
  }

  /* Compress vertical padding */
  .main-content {
    padding: 10px 12px !important;
  }

  .card {
    margin: 8px 0 !important;
    padding: 10px !important;
  }

  /* Highcharts should shrink height automatically */
  .highcharts-container {
    height: 420px !important;
  }

  /* Sidebar should not push main content down */
  .desktop-left-sidebar {
    max-height: calc(100vh - 80px) !important;
    overflow-y: auto !important;
  }

  /* Prevent huge spacing in About & AI pages */
  .summary-text, p {
    line-height: 1.4 !important;
    font-size: 0.92rem !important;
  }

  /* AI Assistant and Quiz Layout compress vertically */
  .ai-assistant-sidebar,
  .quiz-sim-sidebar {
    padding: 15px !important;
  }

  .ai-assistant-main,
  .quiz-sim-main {
    padding: 10px !important;
  }
}

/* ==========================================================
   EXTRA HEIGHT-SENSITIVE CASE
   Screens with height < 650px (small laptop windows)
   ========================================================== */
@media (max-height: 650px) {

  /* Shrink fonts further by ~15% */
  body, html {
    font-size: 12.5px !important;
  }

  .value-box .value,
  .debt-value {
    font-size: 1rem !important;
  }

  .highcharts-container {
    height: 350px !important;
  }

  /* Make navbar slimmer */
  .desktop-navbar {
    padding: 6px 12px !important;
  }

  .nav-item {
    font-size: 0.85rem !important;
    margin: 0 6px !important;
  }

  /* Reduce padding inside all cards */
  .card {
    padding: 8px !important;
  }

  /* Sidebar fits into short windows */
  .desktop-left-sidebar {
    max-height: calc(100vh - 60px) !important;
  }
}

/* ==========================================================
   ULTRA SHORT DISPLAYS (like 720px → height ~600)
   ========================================================== */
@media (max-height: 580px) {

  /* Go into ultra-compact mode */
  .value-box-container {
    gap: 10px !important;
  }

  /* Even smaller charts */
  .highcharts-container {
    height: 300px !important;
  }

  .value-box .value {
    font-size: 0.9rem !important;
  }

  h1, h2, h3 {
    font-size: 0.85rem !important;
  }

  .summary-text {
    font-size: 0.85rem !important;
    line-height: 1.3 !important;
  }
}


/* ==========================================================
   GLOBAL MOBILE RESPONSIVENESS (max-width: 768px)
   Kenya audience → mobile-first optimization
   ========================================================== */

@media (max-width: 768px) {

  /* ---------------------------
     1. Disable overflow issues
     ---------------------------*/
  body, html {
    overflow-x: hidden !important;
    max-width: 100% !important;
  }

  .main-content {
    padding: 10px !important;
    max-height: unset !important;
  }

  /* ---------------------------
     2. Value Boxes – FULL WIDTH
     ---------------------------*/
  .value-box-container {
    display: flex;
    flex-direction: column;
    gap: 12px !important;
    width: 100% !important;
  }

  .bslib-value-box,
  .value-box,
  .value-box-container .card {
    width: 100% !important;
    margin: 0 !important;
  }

  /* Reduce value font on small screens */
  .value-box .value,
  .value-box span,
  .debt-value,
  .indicator-value,
  .exp-value {
    font-size: 1.3rem !important;
  }

  /* ---------------------------
     3. Charts – adapt to mobile
     ---------------------------*/
  .highcharts-container,
  .highchart,
  .highcharts-root {
    width: 100% !important;
    max-width: 100% !important;
  }

  .hc-container {
    width: 100% !important;
    padding: 0 !important;
  }

  /* Reduce height slightly */
  .highcharts-container {
    height: 320px !important;
  }

  /* ---------------------------
     4. Navbar / Mobile Title
     ---------------------------*/
  .desktop-navbar {
    display: none !important;
  }

  .mobile-title {
    font-size: 1.2rem !important;
    padding: 8px 12px !important;
    text-align: center;
  }

  /* ---------------------------
     5. Mobile Sidebar Drawer
     ---------------------------*/
  #mySidebar {
    width: 70% !important;
    max-width: 300px;
    left: -70%;
    transition: all 0.35s ease-in-out !important;
    padding-top: 40px;
  }

  #mySidebar.open {
    left: 0 !important;
  }

  #mySidebar a {
    padding: 12px 18px !important;
    font-size: 1rem !important;
    border-bottom: 1px solid #eee;
  }

  .closebtn {
    font-size: 28px !important;
    top: 8px;
    right: 10px;
  }

  /* Submenus */
  .submenu {
    padding-left: 18px !important;
  }

  /* Spacing for mobile neumorphism feel */
  .mobile-search {
    margin-top: 5px;
    padding: 0 12px;
  }

  /* ---------------------------
     6. Cards – prevent squishing
     ---------------------------*/
  .card {
    width: 100% !important;
    margin: 0 !important;
  }

  .nav-pills-wrapper {
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Pills become scrollable horizontally */
  .nav.nav-pills {
    overflow-x: auto !important;
    white-space: nowrap !important;
    display: flex;
  }

  .nav.nav-pills li {
    flex-shrink: 0 !important;
  }

  /* ---------------------------
     7. AI Assistant & Quizzes
     ---------------------------*/
  .ai-assistant-layout,
  .quiz-sim-layout {
    flex-direction: column !important;
  }

  .ai-assistant-sidebar,
  .quiz-sim-sidebar {
    width: 100% !important;
    max-width: 100% !important;
    margin-bottom: 20px;
  }

  .ai-assistant-main,
  .quiz-sim-main {
    width: 100% !important;
  }

  /* ---------------------------
     8. Reduce large padding
     ---------------------------*/
  .summary-card,
  .summary-text,
  .summary-title {
    padding: 10px !important;
  }

  /* Prevent wide paragraphs */
  p, .summary-text {
    font-size: 0.95rem !important;
    line-height: 1.45rem !important;
  }
}

/* ==========================================================
   EXTRA SMALL DEVICES (max-width: 480px)
   ========================================================== */
@media (max-width: 480px) {

  .value-box .value,
  .debt-value,
  .indicator-value {
    font-size: 1.1rem !important;
  }

  .mobile-title {
    font-size: 1rem !important;
  }

  .highcharts-container {
    height: 280px !important;
  }

  #mySidebar {
    width: 80% !important;
  }

  .openbtn {
    font-size: 14px !important;
    padding: 6px 10px !important;
  }
}
